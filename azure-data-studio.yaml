name: azuredatastudio
version: "1.47.0"
license: MIT
contact: https://github.com/shakeelansari63/snap-packages
website: https://azure.microsoft.com/en-in/products/data-studio
summary: A unified tooling experience for data professionals
architectures:
  - amd64
description: |
  Designed to focus on the functionality data platform developers use the most, Azure Data Studio offers additional experiences available as optional extensions. 
  It's built for data professionals who use SQL Server and Azure databases on-premises or in multicloud environments.

base: core22
grade: devel
confinement: strict

parts:
  azuredatastudio:
    plugin: dump
    build-packages:
      - unzip
      - tar
      - curl
      - tree
    source: .
    override-build: |
      curl -L https://azuredatastudio-update.azurewebsites.net/latest/linux-x64/stable -o ads.tgz
      tar -xvf ads.tgz
      mv ./azuredatastudio-linux-x64 /root/azure_data_studio
      rm -f ./ads.tgz
      tree /root/azure_data_studio

      # Copy Gui Files
      cp static/azure-data-studio.png /root/azure_data_studio/
      cp static/azure.data.studio.desktop /root/azure_data_studio/
    organize:
      /root/azure_data_studio: _ads

apps:
  azuredatastudio:
    command: desktop-launch _ads/bin/azuredatastudio
    desktop: _ads/azure.data.studio.desktop
    plugs:
      - desktop
      - desktop-legacy
      - network
      - network-bind
      - home
